using UnityEngine;
using System.Collections;

public class Maps : MonoBehaviour {
    public void Reify(string map, Entities entities) {
        int x = -8;
        int y = 19;
        foreach (var c in map) {
            x += 1;
            switch (c) {
                // end of row
                case '\n':
                    x = -8;
                    y -= 1;
                    break;
                // clear space
                case '.':
                    break;
                // protected zone
                case 's':
                    break;
                // blocked by multitile object
                case 'b':
                    break;
                case 'e':
                    MakeObj(entities.basicEnemy, x, y);
                    break;
                case 'r':
                    MakeObj(entities.mapRockSmall, x, y);
                    break;
                case 'R':
                    MakeObj(entities.mapRockLarge, x , y);
                    break;
            }
        }
    }

    void MakeObj(GameObject obj, int x, int y) {
        var geometryParent = GameObject.Find("MapObjects").transform;
        var go = (GameObject) Instantiate(obj, new Vector2(x, y), Quaternion.identity);
        go.transform.SetParent(geometryParent);

    }

    public static string RandomMap() {
        return mapList[Random.Range(0, mapList.Length)];
    }

    public static string[] mapList = new[] {
        // bounds are 0,0 -> 39,19
        @"
        ssss...................................
        ssss...................................
        ssss...................................
        ssss...................................
        .............................e.........
        r.r.r..................................
        ...........................e......R....
        .....r.............r...................
        .......................................
        .....r.r.r.r.r.r.r.r......r...R...R..r.
        .......................................
        ...................r...................
        ...........R...........................
        ....................e..................
        .............................r.........
        ...............e...................ssss
        ............................r......ssss
        ...................................ssss
        ...................................ssss
        ",
        @"
        ssss...................................
        ssss...................................
        ssss...................................
        ssss...................................
        .......................................
        .....................R...e.............
        .......................................
        .......................................
        .......................r...............
        ..............r...R....................
        .......................................
        .......................................
        .........e.............................
        .......................................
        .......................................
        ...................................ssss
        ...................................ssss
        ...................................ssss
        ...................................ssss
        ",
        @"
        ssss...................................
        ssss...................................
        ssss...........................R.......
        ssss.......r...........................
        ...................e...................
        ...........r..............e............
        .......................................
        ..........r............................
        .......r...............................
        ................e......................
        .....r.r..................r............
        .......................................
        .........e................r............
        .......................................
        ........................r.r............
        ..........R........................ssss
        ...................................ssss
        ...................................ssss
        ...................................ssss
        ",
        @"
        ssss..............r....................
        ssss...................................
        ssss..............r....................
        ssss...................................
        ..................r....................
        .......................................
        ..................r...e................
        .......................................
        .......................................
        .......................................
        .......................................
        ..............e...R....................
        .......................................
        .......................................
        ..................r....................
        ...................................ssss
        ..................r................ssss
        ...................................ssss
        ..................r................ssss
        ",
        @"
        ssss...................................
        ssss...................................
        ssss..........................e........
        ssss......................e....e.......
        .......................................
        ............................e..........
        .......................................
        .......................................
        .......................................
        .......................................
        .......................................
        .......................................
        .......................................
        .......................................
        ....e..................................
        ......e............................ssss
        ...................................ssss
        .....e.....e.......................ssss
        ...................................ssss
        ",
        @"
        ssss...................................
        ssss...................................
        ssss..........................e........
        ssss......................e....e.......
        .......................................
        .......................................
        .......................................
        ..........r............................
        .......................................
        ................r......r...............
        .......................................
        .......................................
        ..................r....................
        .......................................
        ....e..................................
        ......e............................ssss
        ...................................ssss
        .....e.............................ssss
        ...................................ssss
        ",
        @"
        ssss...................................
        ssss............r......................
        ssss...................................
        ssss.....................R.............
        .......................................
        .................e.....................
        ................................e......
        .......................................
        .......................................
        ........R................R.............
        .......................................
        ................e......................
        .......................................
        .......................................
        ...............R.......................
        ...................................ssss
        .....r.............................ssss
        ......................r............ssss
        ...................................ssss
        ",
        @"
        ssss...................................
        ssss................e............e.....
        ssss.........r...........e.............
        ssss...........................e.......
        ...................e.....e.............
        ...............r..................e....
        ............................e..........
        .......................................
        .......................................
        ........R...............R..............
        ...................................r...
        .......................................
        .......................................
        .......................................
        ...............R.......................
        ...................................ssss
        ...................................ssss
        ...................................ssss
        ...................................ssss
        ",
        @"
        ssss...................................
        ssss...................................
        ssss...................................
        ssss...................................
        ...............R.............r.........
        .......................................
        .......................................
        .........r..........e..................
        .................e....e................
        ..................e...........R........
        .........r.............................
        .......................................
        .........................r.............
        .............R.........................
        .......................................
        ...................................ssss
        ...................................ssss
        ...................................ssss
        ...................................ssss
        ",
        @"
        ssss...................................
        ssss...................................
        ssss...................................
        ssss...................................
        .......................................
        .......................................
        .......................................
        .......................................
        ...................e...................
        .......................................
        ..............r........................
        .......................................
        .......................................
        .......................................
        .......................................
        ...................................ssss
        ...................................ssss
        ...................................ssss
        ...................................ssss
        ",
        @"
        ssss...................................
        ssss...................................
        ssss.........R.......R.................
        ssss.........................r.........
        ................................r......
        .......................................
        .......................................
        ....R.......R......r.........r....R....
        .......................................
        .......................................
        ...........................r...........
        .......................................
        .....e.................................
        ..........e...............R............
        .......................................
        ...................................ssss
        ...................................ssss
        ...................................ssss
        ...................................ssss
        "
    };

    string baseMap = @"
        ssss...................................
        ssss...................................
        ssss...................................
        ssss...................................
        .......................................
        .......................................
        .......................................
        .......................................
        .......................................
        .......................................
        .......................................
        .......................................
        .......................................
        .......................................
        .......................................
        ...................................ssss
        ...................................ssss
        ...................................ssss
        ...................................ssss
        ";
}
